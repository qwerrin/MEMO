# Dockerの基本コマンド
## コンテナ一覧を確認  
`$ docker ps`  
で現在実行中のコンテナを表示  
`$ docker ps -a`  
で現在存在しているコンテナ一覧を表示  
  
## コンテナの詳細を確認  
`$ docker inspect コンテナ名`  
で指定したコンテナの詳細情報を表示  

## コンテナの作成  
`$ docker create —name コンテナにつける名前 -it イメージ名 /bin/bash`  
-i はコンテナの標準入力を取得して双方向接続するオプション  
-t はコンテナ内にTTYを割り当てるオプション  
コンテナでシェル実行をして、フォアグラウンドで実行状態にしておきたい場合に -itの組み合わせで使われる
これをつけないとシェルがすぐに終了してコンテナが停止してしまう

## コンテナの起動  
`$ docker start コンテナ名`  
でコンテナを起動  
  
## コンテナの一時停止  
`$ docker pause コンテナ名`  
で、コンテナを一時停止できる  
  
## コンテナの再開  
`$ docker unpause コンテナ名`  
でコンテナの一時停止を解除できる  
  
## コンテナの再起動  
`$ docker restart コンテナ名`  
でコンテナが再起動される  
  
## コンテナの停止  
`$ docker stop コンテナ名`  
でコンテナが停止  
  
コンテナが終了後、そのままローカルに残っている状態はExitとなることに注意が必要です。
使わないコンテナは削除しておかないとハードディスクが圧迫されます。  
  
## コンテナの削除  
`$ docker rm コンテナ名`  
でコンテナを削除  
  
`$ docker rm -f コンテナ名`  
で強制削除  
  
## 起動中のコンテナのシェルへ接続  
接続方法はattachとexecの2つがあります。  
  
`$ docker attach 起動中コンテナ名`    
起動中のコンテナがシェルを実行している場合は、シェルに接続できるが、Deamonしか起動していない場合にはDeamonの標準入出力に接続されてしまうことに注意して下さい。

attachで接続して、exitで抜けると起動中のコンテナが終了してしまうのが特徴です。
起動時に -itフラグをつけている場合は、cntrol + p, cntrol + qで抜けるとコンテナは終了しません。

`$ docker exec -it 起動中のコンテナ名 /bin/bash`  
exitで抜けることができ、抜けてもコンテナが停止することはないのが特徴です。  
  
## コンテナからイメージを作成  
`$ docker commit コンテナ名 image名：タグ名`  
コンテナの状態を、指定した「image名：タグ名」でイメージとして保存するコマンド
  
`$ docker history イメージ名`  
で、そのイメージの変更履歴を確認できますが、docker commitでイメージを作成すると、コンテナの内部でどんな変更を加えたのかはどこにも記録として残らず、とても使いにくいimageになってしまう点に注意が必要です。
